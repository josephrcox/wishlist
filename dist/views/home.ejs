<div id="popup" class="hidden">
    <div id="popup_close">X</div>
    <div id="popup_title"></div>
    <div id="popup_body"></div>
    <input type="text" id="popup_input" placeholder="">
    <button id="popup_submit">Submit</button>
</div>

<div class="subheader" style="display: none;">
    <div id="expand_newitem"><img src="../../dist/css/caret.svg" id="collapse_expand_arrow">   New Wishlist Item</div>
    <div class="new_item_form" style="padding: 0px;">
        <label for="friend">Wish your ‚ù§Ô∏è out! </label>
        <input type="text" name="name" id="name" placeholder="A shiny new car" autocomplete="off" maxlength="100">
        <label for="url">Link</label><span class="optional">(optional)</span>
        <input type="url" name="link" id="link" placeholder="https://www....." autocomplete="off">
        <label for="price">Price in $</label><span class="optional">(optional)</span>
        <input type="text" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" name="price" id="price" placeholder="29.99" autocomplete="off" min="0.01" step="0.01" max="250000"/>
        <button type="submit" id="submit_newitem">Add to Wishlist</button>
    </div>
    <div id="expand_addfriend"><img src="../../dist/css/caret.svg" id="collapse_expand_arrow">   Add a friend (by email)</div>
    <div class="friend_form" style="padding: 0px;">
        <label for="friend">Help your bestie out</label>
        <div id="friend_form_tooltip"></div>
        <input type="email" name="friend" id="friend" placeholder="tom@gmail.com" autocomplete="off">
        <button type="submit" id="submit_addfriend">Send request</button>
        <span id="friend_logs"></span>
        <label for="qr">Share code to quickly add you</label>
        <img id="qr">

    </div>
</div>

<!-- if the user is already logged in, they will just go to their home page, otherwise send to login -->
<a href="/"> 
    <div class="signup_tip" style="display: none;">
        Sign up today for free and create your own wishlist! üíô
    </div>
</a>

<div id="wishlist_grid">
    <!-- <div id="your_wishlist" class="wishlist_block">
        <h2>Your Wishlist</h2>
        <ul id="your_wishlist_items">
    
    </div> -->
</div>

<script>
    let expand_newitem = document.getElementById("expand_newitem")
    let new_item_form = document.querySelector(".new_item_form")
    expand_newitem.addEventListener('click', async function() {
        new_item_form.style.maxHeight = new_item_form.style.maxHeight ? null : new_item_form.scrollHeight + "px"
        if (new_item_form.style.padding == "0px") {
            new_item_form.style.padding = "10px"
            expand_newitem.style.color = "lime";
            expand_newitem.children[0].style.transform = "rotate(90deg)"
        } else {
            new_item_form.style.padding = "0px"
            expand_newitem.style.color = "white";
            expand_newitem.children[0].style.transform = "rotate(0deg)"
        }
    });
    let expand_addfriend = document.getElementById("expand_addfriend")
    let friend_form = document.querySelector(".friend_form")
    expand_addfriend.addEventListener('click', async function() {
        friend_form.style.maxHeight = friend_form.style.maxHeight ? null : friend_form.scrollHeight + "px"
        if (friend_form.style.padding == "0px") {
            friend_form.style.padding = "10px"
            expand_addfriend.style.color = "lime";
            expand_addfriend.children[0].style.transform = "rotate(90deg)"
        } else {
            friend_form.style.padding = "0px"
            expand_addfriend.style.color = "white";
            expand_addfriend.children[0].style.transform = "rotate(0deg)"
        }
    });

</script>
